
<div class="position-relative">
  <div class="calendar-container">
    <div class="calendar-column_arrow">
      <%= link_to refresh_calendar_path(:teacher_id => @teacher.id, :date => @hash.first[1].first.start.to_date, :refresh => 'previous', :booking_id => @booking_id),
        remote: true,
        class:'calendar-btn calendar-arrow' do %>
        <i class="fas fa-chevron-left"></i>
      <% end %>
    </div>

    <% @hash.each do |day, value| %>
      <div class='calendar-column'>
        <div class='calendar-headers'>
          <div class="text-lowercase font-weight-bold"><%= I18n.l(value.first.start.to_datetime, format: :planning_month, locale: :fr) %></div>
          <div><%= I18n.l(value.first.start.to_datetime, format: :planning_day, locale: :fr) %></div>
        </div>

        <% value.each do |slot| %>
          <% if slot.start < DateTime.now() %>
            <div class="card-slot-booked">-</div>
          <% else %>
            <% if (@slot && (@slot.start == slot.start)) %>
              <div class='card-slot-clicked' data-slot-year=<%= slot.start.year %> data-slot-month=<%= slot.start.month %> data-slot-day=<%= slot.start.day %> data-slot-hour=<%= slot.start.strftime('%H') %>>
                <%= slot.start.hour %>:00
              </div>
            <% elsif slot.booked %>
                <div class="card-slot-booked">-</div>
            <% else %>
              <div class='card-slot-free' data-slot-year=<%= slot.start.year %> data-slot-month=<%= slot.start.month %> data-slot-day=<%= slot.start.day %> data-slot-hour=<%= slot.start.strftime('%H') %>>
                <%= slot.start.hour %>:00
              </div>
            <% end %>
          <% end %>
        <% end %>
      </div>
    <% end %>



    <div class="calendar-column_arrow">
      <%= link_to refresh_calendar_path(:teacher_id => @teacher.id, :date => @hash.first[1].first.start.to_date, :refresh => 'next', :booking_id => @booking_id ),
      remote: true,
      class:'calendar-btn calendar-arrow' do %>
      <i class="fas fa-chevron-right"></i>
      <% end %>
    </div>
  </div>

  <div class="separator"></div>
</div>

